.d-flex.justify-content-between.bg-faded.mb-3
  = form_tag action_url, method: :get, class: 'form-inline d-flex justify-content-between', data: { event_name: 'Search question answer', bot_id: bot.id, bot_name: bot.name } do
    = hidden_field_tag :headless, local_assigns[:headless]
    = hidden_field_tag :hide_global_header, local_assigns[:hide_global_header]

    = collection_select :topic, :id, topic_tags_for_select(@bot), :id, :name, { include_blank: "-- トピックタグで絞込 --", selected: (@topic_id.to_i if @topic_id.present?) }, class: 'form-control', style: 'max-width:200px'
    = space
    .input-group
      = text_field_tag :keyword, params[:keyword], class: "search-question-answer form-control", placeholder: "検索ワードを入力"
      .input-group-append
        button.btn.btn-primary type="submit" name="search" data-event="search q&a"
          = material_icon 'search', class: 'mi-sm'
        / = submit_tag material_icon('search').html_safe, name: "search", class: "btn btn-primary", data: { event: 'search q&a' }
    - if params.dig(:topic, :id).present? || params[:keyword].present?
      = space
      = link_to '✕ 検索を解除', action_url, class: 'btn btn-link'

  - if params[:headless].blank? && local_assigns[:no_new_button].blank?
    div
      = link_to 'Q&A新規登録', new_bot_question_answer_path(@bot), class: 'btn btn-success', data: { event: 'click new create q&a' }
